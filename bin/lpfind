#!/bin/bash

# finder: finds a module and lists its inheritances
# usage: ./finder [module name]

#colors
NC='\033[0m'        # Text Reset
Yellow='\033[0;33m' # Yellow

LOC=$(pwd); cd /
ODOODIR="/usr/share/"
SEARCH="$1"

if (( $# != 1 )); then
    echo "usage: ./finder [OPTIONS] [module name] ..."
    exit
fi

echo -e "SEARCHING FOR\t\t$SEARCH"
echo -e "IN DIRECTORY\t\t$ODOODIR"

echo -e "\n${Yellow}ORIGIN${NC}"
grep -Rns --include=*py " _name.\?=.\?\(\\\"\|'\)$SEARCH\(\\\"\|'\)" $ODOODIR
echo -e "\n${Yellow}INHERITANCES${NC}"
grep -Rns --include=*py " _inherit.\?=.\?\(\\\"\|'\)$SEARCH\(\\\"\|'\)" $ODOODIR 

cd $LOC


